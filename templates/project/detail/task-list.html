{% extends 'layout.html' %}

{% block username %} {{ username }} {% endblock %}

{% block content %}
<div class=" md:flex justify-between items-center">
	<div>
		<div class="mb-5">
			<ul class="m-0 p-0 list-none">
				<li class="inline-block relative top-[3px] text-base text-primary-500 font-Inter ">
					<a href="/">
						<iconify-icon icon="heroicons-outline:home"></iconify-icon>
						<iconify-icon icon="heroicons-outline:chevron-right"
							class="relative text-slate-500 text-sm rtl:rotate-180"></iconify-icon>
					</a>
				</li>
				<li class="inline-block relative text-sm text-primary-500 font-Inter ">
					<a href="/project">
						Project
					</a>
				</li>
			</ul>
		</div>
	</div>
</div>

<div class="card">
	<div class="card-body flex flex-col p-6">
		<header class="flex mb-5 items-center border-b border-slate-100 dark:border-slate-700 pb-5 -mx-6 px-6">
			<div class="flex-1">
				<div class="card-title text-slate-900 dark:text-white">Task list</div>
			</div>
		</header>
		<div class="card-text h-full">
			<div>
				<ul class="nav nav-tabs flex flex-col md:flex-row flex-wrap list-none border-b-0 pl-0 mb-4"
					id="tabs-tab" role="tablist">
					<li class="nav-item" role="presentation">
						<a href="{{ url_for('project.general', id=1) }}"
							class="nav-link w-full flex items-center font-medium text-sm font-Inter leading-tight capitalize border-x-0 border-t-0 border-b border-transparent px-4 pb-2 my-2 hover:border-transparent focus:border-transparent dark:text-slate-300"
                        >
							<iconify-icon class="mr-1" icon="heroicons-outline:home"></iconify-icon>
							General
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a href="{{ url_for('project.tasklist', id=1) }}"
							class="nav-link w-full flex items-center font-medium text-sm font-Inter leading-tight capitalize border-x-0 border-t-0 border-b border-transparent px-4 pb-2 my-2 hover:border-transparent focus:border-transparent dark:text-slate-300 active"
                        >
                            <iconify-icon class="mr-1" icon="heroicons-outline:user"></iconify-icon>
							Task
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a href="{{ url_for('project.member', id=1) }}"
							class="nav-link w-full flex items-center font-medium text-sm font-Inter leading-tight capitalize border-x-0 border-t-0 border-b border-transparent px-4 pb-2 my-2 hover:border-transparent focus:border-transparent dark:text-slate-300"
                        >
							<iconify-icon class="mr-1" icon="heroicons-outline:chat-alt-2"></iconify-icon>
							Member
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="flex md:space-x-5 app_height overflow-hidden relative rtl:space-x-reverse my-5">
	<div class="todo-sidebar ">
		<div class="h-full card">
			<div class="card-body py-6 h-full flex flex-col">
				<div class="flex-1 h-full px-6">
					<button class="btn inline-flex justify-center btn-dark w-full">
						<span class="flex items-center">
							<iconify-icon class="text-xl ltr:mr-2 rtl:ml-2" icon="ph:plus-bold"></iconify-icon>
							<span>Add Task</span>
						</span>
					</button>
				</div>
				<div class="h-full px-6 " data-simplebar="data-simplebar">
					<ul class="todo-categories list mt-6">

						<li class="active email-categories-list" data-status="all">
							<label>
								<span class="flex-1 flex space-x-2 rtl:space-x-reverse">
									<span class="text-xl leading-[1]">
										<iconify-icon icon="material-symbols:menu"></iconify-icon>
									</span>
									<span class="capitalize text-sm">
										Total
									</span>
								</span>

							</label>
						</li>

						<li class="email-categories-list" data-status="stared">
							<label>
								<span class="flex-1 flex space-x-2 rtl:space-x-reverse">
									<span class="text-xl">
										<iconify-icon icon=ri:todo-line></iconify-icon>
									</span>
									<span class="capitalize text-sm">
										To do
									</span>
								</span>

							</label>
						</li>

						<li class="email-categories-list" data-status="done">
							<label>
								<span class="flex-1 flex space-x-2 rtl:space-x-reverse">
									<span class="text-xl">
										<iconify-icon icon=mdi:clock-outline></iconify-icon>
									</span>
									<span class="capitalize text-sm">
										In Progress
									</span>
								</span>

							</label>
						</li>

						<li class="email-categories-list" data-status="trash">
							<label>
								<span class="flex-1 flex space-x-2 rtl:space-x-reverse">
									<span class="text-xl">
										<iconify-icon icon=material-symbols:task-alt></iconify-icon>
									</span>
									<span class="capitalize text-sm">
										Done
									</span>
								</span>

							</label>
						</li>

					</ul>
					<div class="block py-4 text-slate-800 dark:text-slate-400 font-semibold text-xs uppercase">
						Tags
					</div>
					<ul class="todo-categories list">

						<li data-status="low" class="flex space-x-2 text-sm capitalize dark:text-slate-300 py-2 cursor-pointer items-center rtl:space-x-reverse email-categories-list">
							<span class="bar-c  bg-success-500 ring-success-500  inline-block h-2 w-2 rounded-full ring-opacity-30 transition-all duration-150 "></span>
							<span class="transition duration-150">
								low
							</span>
						</li>

						<li data-status="medium"
							class="flex space-x-2 text-sm capitalize dark:text-slate-300 py-2 cursor-pointer items-center rtl:space-x-reverse email-categories-list">
							<span class="bar-c  bg-warning-500 ring-warning-500  inline-block h-2 w-2 rounded-full ring-opacity-30 transition-all duration-150 "></span>
							<span class="transition duration-150">
								medium
							</span>
						</li>

						<li data-status="high" class="flex space-x-2 text-sm capitalize dark:text-slate-300 py-2 cursor-pointer items-center rtl:space-x-reverse email-categories-list">
							<span class="bar-c  bg-primary-500 ring-primary-500  inline-block h-2 w-2 rounded-full ring-opacity-30 transition-all duration-150 "></span>
							<span class="transition duration-150">
								high
							</span>
						</li>

					</ul>
				</div>
			</div>
		</div>
	</div>

	<div class="todo-overlay"></div>
	<div class="flex-1 md:w-[calc(100%-320px)]">
		<div class="h-full card">
			<div class="p-0 h-full relative card-body">
				<div class="card-body px-6 pb-6">
					<div class="overflow-x-auto -mx-6 dashcode-data-table">
						<div class="inline-block min-w-full align-middle">
							<div class="overflow-hidden">
								<div class="min-w-full">
									<table class="min-w-full divide-y divide-slate-100 table-fixed dark:divide-slate-700 dataTable no-footer" id="data-table">
										<thead class=" border-t border-slate-100 dark:border-slate-800">
											<tr>
												<th scope="col" class="table-th sorting sorting_asc" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label=" Order: activate to sort column descending" aria-sort="ascending">
													Title
												</th>
												<th scope="col" class="table-th sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">
													Due to
												</th>
												<th scope="col" class="table-th sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending">
													Priority
												</th>

												<th scope="col" class="table-th sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending">
													Status
												</th>
												<th scope="col" class="table-th sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Action: activate to sort column ascending">
													Action
												</th>
											</tr>
										</thead>
										<tbody class="bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700 todo-list">
											{% if len > 0 %}
											{% for i in range (0, len) %}
											<tr>
												<td class="table-td"> {{ tasks[i].title }} </td>
												<td class="table-td">{{ tasks[i].due_to }}</td>
												<td class="table-td">
													{% if tasks[i].priority == 0 %}
													<span class="badge bg-info-500 text-white capitalize rounded-3xl">
														Low
													</span>
													{% endif %}

													{% if tasks[i].priority == 1 %}
													<span class="badge bg-success-500 text-white capitalize rounded-3xl">
														Medium
													</span>
													{% endif %}

													{% if tasks[i].priority == 2 %}
													<span class="badge bg-danger-500 text-white capitalize rounded-3xl">
														High
													</span>
													{% endif %}
												</td>
												<td class="table-td">
													{% if tasks[i].status == 0 %}
													<span class="badge bg-primary-500 text-white capitalize">
														To do
													</span>
													{% endif %}

													{% if tasks[i].status == 1 %}
													<span class="badge bg-warning-500 text-white capitalize">
														In progress
													</span>
													{% endif %}

													{% if tasks[i].status == 2 %}
													<span class="badge bg-success-500 text-white capitalize">
														Done
													</span>
													{% endif %}
												</td>
												<td class="table-td">
													
														<button data-bs-toggle="modal" data-bs-target="#viewTodoModal" class="btn inline-flex h-9 w-9 items-center justify-center btn-outline-light rounded-full">
                            								<span class="flex items-center">
																<iconify-icon class="text-xl" icon="carbon:view-filled"></iconify-icon>
                            								</span>
                          								</button>
													
												</td>
											</tr>
											{% endfor %}
											{% endif %}
										</tbody>
                                        <tbody class="bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700 todo-list">
											<tr>
												<td class="table-td">Nộp báo cáo ngày 29/06/2023 </td>
												<td class="table-td">20-07-2023</td>
												<td class="table-td">
													
													<span class="badge bg-info-500 text-white capitalize rounded-3xl">
														Low
													</span>
											

										
												

												</td>
												<td class="table-td">
										
										

								
													<span class="badge bg-warning-500 text-white capitalize">
														In progress
													</span>
											

											
												</td>
												<td class="table-td">
													
														<button data-bs-toggle="modal" data-bs-target="#viewTodoModal" class="btn inline-flex h-9 w-9 items-center justify-center btn-outline-light rounded-full">
                            								<span class="flex items-center">
																<iconify-icon class="text-xl" icon="carbon:view-filled"></iconify-icon>
                            								</span>
                          								</button>
													
												</td>
											</tr>

										</tbody>
                                        <tbody class="bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700 todo-list">
											<tr>
												<td class="table-td"> Chuẩn bị bài thuyết trình </td>
												<td class="table-td">10-07-20233</td>
												<td class="table-td">
													
													<span class="badge bg-danger-500 text-white capitalize rounded-3xl">
														High
													</span>
											

										
												

												</td>
												<td class="table-td">
										
										

								
													<span class="badge bg-warning-500 text-white capitalize">
														In progress
													</span>
											

											
												</td>
												<td class="table-td">
													
														<button data-bs-toggle="modal" data-bs-target="#viewTodoModal" class="btn inline-flex h-9 w-9 items-center justify-center btn-outline-light rounded-full">
                            								<span class="flex items-center">
																<iconify-icon class="text-xl" icon="carbon:view-filled"></iconify-icon>
                            								</span>
                          								</button>
													
												</td>
											</tr>

										</tbody>
                                        <tbody class="bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700 todo-list">
											<tr>
												<td class="table-td">Thiết kế giao diện</td>
												<td class="table-td">25-07-2023</td>
												<td class="table-td">
													
													<span class="badge bg-success-500 text-white capitalize rounded-3xl">
														Medium
													</span>
											

										
												

												</td>
												<td class="table-td">
										
										

								
													<span class="badge bg-success-500 text-white capitalize">
														Done
													</span>
											

											
												</td>
												<td class="table-td">
													
														<button data-bs-toggle="modal" data-bs-target="#viewTodoModal" class="btn inline-flex h-9 w-9 items-center justify-center btn-outline-light rounded-full">
                            								<span class="flex items-center">
																<iconify-icon class="text-xl" icon="carbon:view-filled"></iconify-icon>
                            								</span>
                          								</button>
													
												</td>
											</tr>

										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- VIEW TASK MODAL -->
<div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto"
id="viewTodoModal" tabindex="-1" aria-labelledby="viewTodoModalLabel" aria-hidden="true">
<div class="modal-dialog modal-xl relative w-auto pointer-events-none">
	<div
		class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
		<div class="relative bg-white rounded-lg shadow dark:bg-slate-700">
			<!-- Modal header -->
			<div
				class="flex items-center justify-between p-5 border-b rounded-t dark:border-slate-600 bg-black-500">
				<h3 class="text-base font-medium text-white dark:text-white capitalize">
					Task detail
				</h3>
				<button type="button"
					class="text-slate-400 bg-transparent hover:text-slate-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-slate-600 dark:hover:text-white"
					data-bs-dismiss="modal">
					<svg aria-hidden="true" class="w-5 h-5" fill="#ffffff" viewbox="0 0 20 20"
						xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd"
							d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
							clip-rule="evenodd"></path>
					</svg>
					<span class="sr-only">Close modal</span>
				</button>
			</div>

			<div class="md:flex md:space-x-5 overflow-hidden relative rtl:space-x-reverse">
				<div class="flex-wrap ltr:-left-full rtl:-right-full" style="width: 768px;">
					<div
						class="card rounded-md bg-white dark:bg-slate-800 lg:h-full  shadow-base h-full">
						<form class="flex flex-col space-y-3 p-5">
							<div class="input-area">
								<label for="title_task" class="form-label">Title</label>
								<input id="title_task" type="text" class="form-control"
									placeholder="Task Name" disabled="disabled">
							</div>
							<div class="input-area">
								<label for="textarea" class="form-label">Description</label>
								<textarea name="textarea" id="textarea" rows="9"
									class="form-control" placeholder="Enter Title"></textarea>
							</div>
							<div>
								<div class="input-area">
									<label for="file_input" class="form-label">Upload</label>
									<div class="multiFilePreview">
										<label for="">
											<input type="file" class=" w-full hidden"
												name="file_input" multiple="multiple"
												accept=".jpg, .jpeg, .png">
											<span
												class="w-full h-[40px] file-control flex items-center custom-class">
												<span
													class="flex-1 overflow-hidden text-ellipsis whitespace-nowrap">
													<span id="placeholder"
														class="text-slate-400">Choose a file or drop
														it here...</span>
												</span>
												<span
													class="file-name flex-none cursor-pointer border-l px-4 border-slate-200 dark:border-slate-700 h-full inline-flex items-center bg-slate-100 dark:bg-slate-900 text-slate-600 dark:text-slate-400 text-sm rounded-tr rounded-br font-normal">Browse</span>
											</span>
										</label>
										<div id="file-preview"></div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
				<div class="flex-1 md:w-[calc(100%-80px)] p-5">
					<form class="flex flex-col space-y-3">
						<div class="input-area">
							<label for="assigned" class="form-label">Owner</label>
							<input id="assigned" type="text" class="form-control"
								placeholder="Dong Gang Thep" disabled="disabled">
						</div>
						<div>
							<label for="status" class="form-label">Status</label>
							<select name="status" id="status" class="form-control w-full mt-2 py-2"
								disabled="disabled">
								<option value="high"
									class=" inline-block font-Inter font-normal text-sm text-slate-600">
									To do
								</option>
								<option value="medium"
									class=" inline-block font-Inter font-normal text-sm text-slate-600">
									In progress
								</option>
								<option value="low"
									class=" inline-block font-Inter font-normal text-sm text-slate-600">
									Done
								</option>
							</select>
						</div>
						<div>
							<label for="priority" class="form-label">Priority</label>
							<select name="priority" id="priority"
								class="form-control w-full mt-2 py-2" disabled="disabled">
								<option value="high"
									class=" inline-block font-Inter font-normal text-sm text-slate-600">
									High
								</option>
								<option value="medium"
									class=" inline-block font-Inter font-normal text-sm text-slate-600">
									Medium
								</option>
								<option value="low"
									class=" inline-block font-Inter font-normal text-sm text-slate-600">
									Low
								</option>
							</select>
						</div>
						<div>
							<label for="date-picker" class=" form-label">Due to</label>
							<input class="form-control py-2 flatpickr flatpickr-input active"
								id="date-picker" value="2023/06/30" type="text" disabled="disabled">
						</div>

						<div class="input-area">
							<label for="score" class="form-label">Quality</label>
							<input id="score" type="text" class="form-control" placeholder=""
								>
						</div>

						<div id="view" class="flex items-center justify-end rounded-b dark:border-slate-600">
							<button data-bs-dismiss="modal"
								class="btn inline-flex justify-center text-white bg-black-500">Submit</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

{% endblock %}
